# Урок 8. Переменные. Функции. Процедуры.

Чтобы создать переменную в SQL надо 

```sql
DECLARE @variable_name data_type [ = value ]
```

Что такое функция? Функция - это подпрограмма, которая возвращает значение. Функции бывают встроенные и пользовательские. Встроенные функции - это функции, которые уже есть в SQL. Пользовательские функции - это функции, которые мы создаем сами.

Чтобы создать функцию в SQL надо 

```sql
CREATE FUNCTION function_name
( [ { @parameter_name [ AS ] [ type_schema_name. ] parameter_data_type 
    [ = default ] [ READONLY ] } 
    [ ,...n ]
  ]
)
RETURNS return_data_type
    [ WITH <function_option> [ ,...n ] ]
    [ AS ]
    BEGIN
        function_body
        RETURN scalar_expression
    END
[ ; ]
```

Что такое процедура ? Процедура - это подпрограмма, которая не возвращает значение. Процедуры бывают встроенные и пользовательские. Встроенные процедуры - это процедуры, которые уже есть в SQL. Пользовательские процедуры - это процедуры, которые мы создаем сами.

Чтобы создать процедуру в SQL надо 

```sql
CREATE PROCEDURE procedure_name
    [ { @parameter [ AS ] [ type_schema_name. ] parameter_data_type }
        [ VARYING ] [ = default ] [ OUT | OUTPUT | [READONLY]
    [ ,...n ]
    [ WITH <procedure_option> [ ,...n ] ]
    [ FOR REPLICATION ]
AS
    [ BEGIN ]
        sql_statement [;]
        [ sql_statement [;] ]...
    [ END ]
[;]
```

Разница между функцией и процедурой в том, что функция возвращает значение, а процедура нет.

<u>Процедура при этом может возвращать значение через параметр OUT.</u>

![](.readme_images/8ac85c74.png)

По факту процедура может просто принимать параметры и принимать их как бы по ссылке.
Точно так же как и в С++ можно передать параметр по ссылке и изменить его.
Такие параметры называют `OUT` параметрами.


## Как работает функция под капотом?

Процедура - это функция, которая не возвращает значение
