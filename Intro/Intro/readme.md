# Введение в ASP.NET

Есть очень много разновидностей ASP.NET проектов
* ASP.NET Core Web App
* ASP.NET Core Web API
* ASP.NET Core MVC
* ASP.NET Core Blazor Server App
* ASP.NET Core Blazor Client App


## Razor Pages

Это технология, которая позволяет совместить C# и HTML

Такии образом вы упрощаете свою работу. 

Все файлы Razor Pages имеют расширение `.cshtml`

### Типы Razor Pages
* Razor Layout Page
* Razor View 
* Razor Page
* Razor View Imports
* Razor Partial View


# Middleware 

Это подпрограммы, которые по одному обрабатывают ваши запросы
по паттерну ChainOfResponsibility

Когда я сказал запрос, я имел ввиду `HttpContext`

# Microsoft.Extensions.DI

Это IOC контейнер, который позволяет мне хранить ссылки на объекты

Есть несколько методов для этого
* AddSingleton
* AddScoped
* AddTransient
* AddDbContext  // Работает после установки пакета Microsoft.EntityFrameworkCore


### AddSingleton
Одна ссылка на объект на все время работы приложения, то есть вашего сайта

Пример: У вас в приложении есть сервис `EmailSender` по сути он одинаковый для 
каждого юзера, просто принимает разные параметры. В таком случае вы можете
использовать `AddSingleton` для того, чтобы не создавать новый объект `EmailSender`

### AddTransient
Один объект на один запрос, то есть на один `HttpContext`. 
Каждый раз, когда приходит новый запрос, создается новый объект

Пример: У вас есть сервис, который используется реже чем остальные и для 
каждого пользовтеля он должен быть отдельный. В таком случае нет смылса создавать
этот объект для каждого пользователя. Надо создать его под определенным запрос.

### AddScoped
Объект создается каждый раз, когда пользователь заходит на страницу.

Например, чтобы зайти на страницу с товарами, он по любому должен взять данные из БД.
И в таком случае нет смысла создавать его под каждый запрос, но и создавать один раз
на все время работы приложения тоже не стоит. Поэтому создается один объект на один вход.