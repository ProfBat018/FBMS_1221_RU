# Урок 1. EF intro

### EF - Entity Framework Core

EF - ORM (Object Relational Mapping) - технология, которая позволяет работать с данными в виде объектов, а не в виде таблиц в базе данных.

По факту, мы создаем классы, которые будут таблицами в базе данных, а свойства классов - столбцами таблиц.

Есть 2 варианта работы с EF:
* `Database First`- сначала создаем базу данных, а потом генерируем классы(автоматически) на основе таблиц
* `Code First` - сначала создаем классы, а потом генерируем базу данных на основе классов


Вся работа, которая будет проходить во время этого предмета, будет в .NET CLI(Command Line Interface) - консольный интерфейс .NET Core.

Помимо самого EF, мы с вами пройдем FluentAPI, appsettings.json, dotnet secrets и многое другое


Основые NuGet пакеты, которые мы будем использовать:
* `Microsoft.EntityFrameworkCore` - основной пакет EF
* `Microsoft.EntityFrameworkCore.SqlServer` - пакет для работы с SQL Server
* `Microsoft.EntityFrameworkCore.Tools` - пакет для работы с EF в консоли


## Database First

При запуске Scaffold-DbContext или dotnet ef dbcontext scaffold, EF Core обращается к базе данных и создает модель на основе схемы базы данных. Это называется подходом Database First.

К тому же он создает класс `context` - это класс, который будет взаимодействовать с базой данных.

В классе `context` будут находиться следующие методы и свойства:
* `DbSet<T>` - свойство, которое представляет собой таблицу в базе данных
* `OnConfiguring` - метод, который позволяет настроить подключение к базе данных
* `OnModelCreating` - `FluentApi` метод, который позволяет настроить модель данных
В этом методе, мы говорим кто primary key, кто foreign key, кто required и т.д.
Это можно делать не только в этом методе, но и в атрибутах классов и свойств, которые находиться в `namespace` - `System.ComponentModel.DataAnnotations`



